let langBtn=document.querySelector(".curent"),langList=document.querySelector(".lang_list"),threeangle=document.querySelector(".curent span"),listElems=document.querySelectorAll(".lang_list li"),langBtnText=document.querySelector(".curent p"),itemContainers=document.querySelectorAll(".item_container"),items=document.querySelectorAll(".thimble"),startBtn=document.querySelector(".btn button"),ticket1=document.querySelectorAll(".ticket:nth-child(1)"),ticket2=document.querySelectorAll(".ticket:nth-child(2)"),modal=document.querySelector(".modal"),wrapper=document.querySelector(".wrapper"),text=document.querySelector(".text p"),modalText1=document.querySelector(".modal p:nth-child(1)"),modalText2=document.querySelector(".modal p:nth-child(2)"),modalBtn=document.querySelector(".modal a");langBtn.addEventListener("click",(()=>{langList.classList.toggle("active"),threeangle.classList.toggle("active")})),listElems.forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.textContent;langBtnText.innerHTML=e,"ua"===e?(text.innerHTML="крути наперстки<br><span>отримуй розвагу</span>",startBtn.innerHTML="почати",modalText1.innerHTML="Ви перемогли!!!",modalText2.innerHTML="Ви програли",modalBtn.innerHTML="Ще раз"):(text.innerHTML="Twist thimbles<br><span>get fun</span>",startBtn.innerHTML="start now",modalText1.innerHTML="you win!!!",modalText2.innerHTML="you lost",modalBtn.innerHTML="Restart"),langList.classList.remove("active"),threeangle.classList.remove("active")}))}));let random=Math.floor(3*Math.random());function trackTranslateY(){itemContainers.forEach((function(t,e){t.addEventListener("animationstart",(function(e){if("spinFirst"===e.animationName||"spinSecond"===e.animationName||"spinThird"===e.animationName){requestAnimationFrame((function e(){let a=window.getComputedStyle(t).getPropertyValue("transform"),n=new DOMMatrix(a).m42;t.parentElement.style.zIndex=Math.floor(n),requestAnimationFrame(e)}))}}))}))}items.forEach((t=>{if(t.classList.contains(`thimble${random}`)){t.classList.add("up"),t.classList.add("current"),t.parentElement.querySelector(".bonus").classList.add("active"),ticket1.forEach((t=>{t.classList.add("active")})),ticket2.forEach((t=>{t.classList.add("active")}))}}));let count=0;function adaptationElements(){const t=window.innerWidth/window.innerHeight,e=t>=1.9?"modificate1":t>=1.6?"modificate2":t>1?"modificate3":"modificate4";wrapper.className=`wrapper ${e}`}startBtn.addEventListener("click",(()=>{items.forEach((t=>{if(t.classList.contains(`thimble${random}`)){t.classList.remove("up");let e=t.parentElement;setTimeout((()=>{e.querySelector(".bonus").classList.remove("active"),ticket1.forEach((t=>{t.classList.remove("active")})),ticket2.forEach((t=>{t.classList.remove("active")}))}),500)}})),setTimeout((()=>{itemContainers.forEach((t=>{t.classList.add("active")}))}),500),setTimeout((()=>{items.forEach((t=>{t.style.cursor="pointer",t.addEventListener("click",(e=>{setTimeout((()=>{if(t.classList.contains(`thimble${random}`)){t.parentElement.querySelector(".bonus").classList.add("active"),ticket1.forEach((t=>{t.classList.add("active")})),ticket2.forEach((t=>{t.classList.add("active")}))}}),150),e.target.classList.contains("current")?modalText1.classList.add("active"):modalText2.classList.add("active"),0==count?(e.target.classList.add("active"),setTimeout((()=>{ticket1.forEach((t=>{t.classList.add("active")})),ticket2.forEach((t=>{t.classList.add("active")})),setTimeout((()=>{modal.classList.add("active"),setTimeout((()=>{modal.classList.add("opacity")}),500)}),700)}),200)):t.disabled=!0,count++}))}))}),3e3),trackTranslateY()})),adaptationElements(),window.addEventListener("resize",adaptationElements);